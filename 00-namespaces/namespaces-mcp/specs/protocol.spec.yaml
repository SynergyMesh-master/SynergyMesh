# Protocol Module Specification
version: "2.0.0"
semantic_role: specification_definitions
artifact_type: spec
semantic_root: false

interfaces:
  JSONRPCHandler:
    description: "JSON-RPC 2.0 protocol handler"
    methods:
      handleRequest:
        description: "Handle JSON-RPC request"
        parameters:
          - name: "request"
            type: "JSONRPCRequest"
            required: true
        returns:
          type: "Promise<JSONRPCResponse>"
      
      handleBatch:
        description: "Handle batch requests"
        parameters:
          - name: "requests"
            type: "JSONRPCRequest[]"
            required: true
        returns:
          type: "Promise<JSONRPCResponse[]>"

  TransportLayer:
    description: "Transport layer for message delivery"
    methods:
      send:
        description: "Send message"
        parameters:
          - name: "message"
            type: "TransportMessage"
            required: true
        returns:
          type: "Promise<void>"
      
      receive:
        description: "Receive message"
        returns:
          type: "Promise<TransportMessage>"

  ProtocolValidator:
    description: "Protocol validation"
    methods:
      validateRequest:
        description: "Validate JSON-RPC request"
        parameters:
          - name: "request"
            type: "any"
            required: true
        returns:
          type: "ValidationResult"

performance_contracts:
  request_processing:
    target: "<20ms"
    percentile: "p99"
  
  throughput:
    target: ">5000 req/sec"
    measurement: "sustained"

metadata:
  created_at: "2025-01-10T13:00:00Z"
  updated_at: "2025-01-10T13:00:00Z"
  version: "2.0.0"
  status: "active"